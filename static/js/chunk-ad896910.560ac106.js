(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ad896910"],{2679:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-page"},[t._m(0),i("div",{staticClass:"upload"},[i("input",{ref:"inputFile",staticStyle:{display:"none"},attrs:{type:"file",multiple:""},on:{change:t.fileChange}}),i("button",{staticClass:"btn btn-lg btn-primary",on:{click:t.selectFile}},[t._v("\n      Select file\n    ")]),i("span",[t._v("        ")]),i("button",{staticClass:"btn btn-lg btn-primary",on:{click:function(e){return e.preventDefault(),t.uploadFile(e)}}},[t._v("\n      Upload\n    ")]),i("div",{staticClass:"error-messages"},[t._v(t._s(t.result))]),i("div",{staticStyle:{width:"200px",margin:"0 auto",color:"#333333","font-weight":"600","text-align":"left"},domProps:{innerHTML:t._s(t.files)}}),""!=t.picUrl?i("img",{ref:"localImg",attrs:{src:t.picUrl}}):t._e(),i("p")])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"banner"},[i("div",{staticClass:"container"},[i("h1",{staticClass:"logo-font"},[t._v("文件上传")]),i("p",[t._v("上传文件将用于内部交流")])])])}],a=i("bc3a"),l=i.n(a),r={name:"Upload",data:function(){return{files:"",result:"",picUrl:""}},methods:{getAxios:function(t,{method:e="post",timeout:i=1e4,data:s={},headers:n={"Content-Type":"application/json;charset=UTF-8;"},dataType:a="json"}){const r={method:e,timeout:i,url:t,baseURL:"",data:s,headers:n,dataType:a};return l()(r)},getString(t){for(var e="File will be upload: <br>",i=0;i<t.length;i++)e+="&emsp;&emsp;"+t[i].name+"<br>";return e},fileChange(){this.result="",this.files=this.getString(this.$refs.inputFile.files);var t=window.URL||window.webkitURL;this.picUrl=t.createObjectURL(this.$refs.inputFile.files[0])},selectFile:function(){this.$refs.inputFile.click()},uploadFile:function(){console.log("in uploadFile()");var t=new FormData;for(var e of this.$refs.inputFile.files)t.append("file",e);this.getAxios("/uploadFile",{method:"post",data:t,headers:{"Content-Type":"multipart/form-data"}}).then(t=>{this.result="File upload success.",this.files="";var e=window.URL||window.webkitURL;e.revokeObjectURL(this.picUrl),this.picUrl=""}).catch(t=>{this.result=t})}}},o=r,c=(i("72ee"),i("2877")),p=Object(c["a"])(o,s,n,!1,null,"517e828e",null);e["default"]=p.exports},"72ee":function(t,e,i){"use strict";i("b3b5")},b3b5:function(t,e,i){}}]);
//# sourceMappingURL=chunk-ad896910.560ac106.js.map